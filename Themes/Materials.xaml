<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="clr-namespace:RhinoCncSuite.ui.Converters;assembly=RhinoCncSuite">

    <!-- Converters -->
    <converters:StringToBrushConverter x:Key="StringToBrushConverter"/>
    <converters:IsLockedToBrushConverter x:Key="IsLockedToBrushConverter"/>
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

    <!-- Icon Geometries -->
    <Geometry x:Key="IconLightbulb">M9,2C5.69,2 3,4.69 3,8C3,10.03 4.03,11.82 5.5,12.85V15A1,1 0 0,0 6,16H12A1,1 0 0,0 13,15V12.85C14.97,11.82 16,10.03 16,8C16,4.69 13.31,2 9,2M9,4A4,4 0 0,1 13,8C13,9.92 11.8,11.5 10,11.92V14H8V11.92C6.2,11.5 5,9.92 5,8A4,4 0 0,1 9,4M8,18H10V20H8V18M4,21H14V23H4V21Z</Geometry>
    <Geometry x:Key="IconHand">M10,18.5A1.5,1.5 0 0,1 8.5,17A1.5,1.5 0 0,1 10,15.5A1.5,1.5 0 0,1 11.5,17A1.5,1.5 0 0,1 10,18.5M10,1.5A1.5,1.5 0 0,1 11.5,3A1.5,1.5 0 0,1 10,4.5A1.5,1.5 0 0,1 8.5,3A1.5,1.5 0 0,1 10,1.5M17,11.5A1.5,1.5 0 0,1 15.5,10A1.5,1.5 0 0,1 17,8.5A1.5,1.5 0 0,1 18.5,10A1.5,1.5 0 0,1 17,11.5M17,4.5A1.5,1.5 0 0,1 15.5,3A1.5,1.5 0 0,1 17,1.5A1.5,1.5 0 0,1 18.5,3A1.5,1.5 0 0,1 17,4.5M3,11.5A1.5,1.5 0 0,1 1.5,10A1.5,1.5 0 0,1 3,8.5A1.5,1.5 0 0,1 4.5,10A1.5,1.5 0 0,1 3,11.5Z</Geometry>
    <Geometry x:Key="IconCursor">M10.5,2C10.22,2 10,2.22 10,2.5V3.45L2,6.95V7H8.5L10.5,3.96L12.5,7H19V6.95L10.5,2M10.5,5.04L4,8.5V19.5L10.5,23L17,19.5V8.5L10.5,5.04Z</Geometry>
    <Geometry x:Key="IconLock">M12,17C10.89,17 10,16.1 10,15C10,13.89 10.89,13 12,13A2,2 0 0,1 14,15C14,16.1 13.1,17 12,17M18,8H17V6A5,5 0 0,0 12,1A5,5 0 0,0 7,6V8H6A2,2 0 0,0 4,10V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V10A2,2 0 0,0 18,8M12,3A3,3 0 0,1 15,6V8H9V6A3,3 0 0,1 12,3Z</Geometry>
    
    <!-- Icon Button Style -->
    <Style x:Key="IconButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Width" Value="24"/>
        <Setter Property="Height" Value="24"/>
        <Setter Property="Margin" Value="2"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" CornerRadius="3">
                        <Path Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" 
                              Fill="WhiteSmoke" Stretch="Uniform" Margin="4"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Tile View Template -->
    <DataTemplate x:Key="TileTemplate">
        <Border Width="{Binding DataContext.TileSize, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                Height="{Binding DataContext.TileSize, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource {x:Static converters:MathConverter.Instance}}, ConverterParameter=Multiply:1.2}"
                Margin="5" Background="#1E1E1E" CornerRadius="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header with Icons -->
                <Border Grid.Row="0" Background="#333333" CornerRadius="8,8,0,0" Padding="2">
                    <StackPanel Orientation="Horizontal">
                        <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconLightbulb}"/>
                        <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconHand}"/>
                        <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconCursor}"/>
                        <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconLock}" 
                                ToolTip="Lock/Unlock Material"/>
                    </StackPanel>
                </Border>

                <!-- Colored Body with Name -->
                <Border Grid.Row="1" Background="{Binding ColorHex, Converter={StaticResource StringToBrushConverter}}" Margin="0" Padding="8">
                    <TextBlock Text="{Binding Name}" FontWeight="Bold" Foreground="Black" TextWrapping="Wrap" 
                               TextAlignment="Center" VerticalAlignment="Center" FontSize="16"/>
                </Border>

                <!-- Footer with Dimensions -->
                <Border Grid.Row="2" Background="#1E1E1E" CornerRadius="0,0,8,8" Padding="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{Binding DisplayDimensions}" FontSize="12" Foreground="WhiteSmoke" VerticalAlignment="Center"/>
                        <Border Grid.Column="1" Background="{Binding ColorHex, Converter={StaticResource StringToBrushConverter}}" CornerRadius="4" Padding="6,2">
                             <TextBlock Text="{Binding Thickness}" FontWeight="Bold" FontSize="18" Foreground="Black" VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Border>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- List View Template -->
    <DataTemplate x:Key="ListTemplate">
        <Border Margin="2" Background="#1E1E1E" CornerRadius="8" Height="45">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0" Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconLightbulb}" Margin="5,0"/>

                <Border Grid.Column="1" Background="{Binding ColorHex, Converter={StaticResource StringToBrushConverter}}" Margin="5" CornerRadius="4">
                     <TextBlock Text="{Binding Name}" FontWeight="Bold" VerticalAlignment="Center" Margin="10,0" Foreground="Black" />
                </Border>

                <Border Grid.Column="2" Background="#555555" CornerRadius="12" Margin="5" Padding="10,2" VerticalAlignment="Center">
                    <TextBlock Text="{Binding Thickness}" Foreground="White" FontWeight="Bold" FontSize="12"/>
                </Border>

                <TextBlock Grid.Column="3" Text="{Binding DisplayDimensions}" VerticalAlignment="Center" Margin="10,0" Foreground="WhiteSmoke"/>

                <StackPanel Grid.Column="4" Orientation="Horizontal" Margin="5,0">
                    <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconHand}"/>
                    <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconCursor}"/>
                    <Button Style="{StaticResource IconButtonStyle}" Content="{StaticResource IconLock}"/>
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>

</ResourceDictionary> 